MENHIR_ENABLED = true
MENHIR_RAW_DEPEND = true
MENHIR_FLAGS += --infer

section
  OCAMLFLAGS = -dtypes -g -w Ae -warn-error Ae
  $(addsuffixes $(OCAML_SUFFIXES),  algdt_parser_y):

USE_OCAMLFIND = true
OCAMLFLAGS += -thread
OCAMLPACKS = cfg pcre res

MODULES[] =
  utils
  algdt_utils
  algdt_pp
  algdt_parser_y
  algdt_lexer
  algdt_parser
  typing
  data_io
  model_data
  c45_io
  deco_impl
  model_pp_impl
  model_utils
  cmd_args
  entropy_utils
  info_utils
  complexity
  dd2_entropy
  apply
  ds2_entropy
  ds_entropy
  dshave
  eval
  factor
  gain_impl
  id_entropy
  is_entropy
  most_prob
  split_impl
  learn
  learn_nothreads
  rand_gen
  main

OCamlProgram(aifad, $(MODULES))

.DEFAULT: aifad

InstClean()

clean:
	rm -f aifad algdt_lexer.ml algdt_parser_y.ml algdt_parser_y.mli
